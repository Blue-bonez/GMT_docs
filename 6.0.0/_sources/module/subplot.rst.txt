.. index:: ! subplot

subplot
=======

:官方文档: :doc:`gmt:subplot`
:简介: 管理现代模式下子图的配置和选择

``subplot`` 模块可以将当前图片分割成若干个子图的矩阵，每个子图都可以包含一张单独的图片。
``subplot`` 模块有三种模式：

- ``gmt subplot begin`` 用于子图的布局
- ``gmt subplot set`` 用于指定当前绘图在哪一个子图中进行
- ``gmt subplot end`` 用于结束子图模式

``gmt begin``
--------------

语法
~~~~

::

    gmt subplot begin <nrows>x<ncols>
                      -F[f|s]<width>/<height>[:<wfracs>/<hfracs>]
                      [-A<autolabel>]
                      [-B<params>]
                      [-J<params>]
                      [-M<margins>]
                      [-R<params>]
                      [-S<layout>]
                      [-T<title>]

必须选项
~~~~~~~~

``<nrows>x<ncols>``
    指定子图的行数和列数。每一行拥有相同数目的子图。
    若需要实现每行有不同的子图数目，你需要多次叠加使用 subplot 模块。
    注意：你无需再每个子图内都绘图。

``-F[f|s]<widths>/<height>[:<wfracs>/<hfracs>]``
    指定图片的长宽。

    有两种方式：

    -   ``-Ff`` 指定整张图片的尺寸。每张子图的尺寸会根据整张图片的尺寸以及子图的数目自动计算。
        在计算子图尺寸时会考虑每个子图的刻度线、标记、标签所占据的空间，以及不同子图之间的空白。
        最外圈的刻度线、标记和标签不算在整张图片尺寸之内。为了给每行或每列指定不同的子图尺寸，
        可以在冒号后面加上一系列以逗号分隔的宽度比例，然后再加上一个斜杠，并加上一系列以逗号
        分隔的高度比例。单个数则表示所有行或列有相同的宽度或高度。

        例如，``-Ff4i/4i:3,1/1,2``会使得第一列的宽度是第二列的三倍，而第二行的高度则
        是第一行的两倍。默认是所有行以及列的尺度是相同的。

    -   ``-Fs`` 直接指定每个子图的尺寸。此时，整张图的尺寸由子图的尺寸以及刻度线、标记、标签和
        子图之间的空白共同决定，其中，最外圈的刻度线、标记、标签不算在整张图的尺寸之内。
        为了给每行或每列指定不同的子图尺寸，可以加上一系列以逗号分隔的宽度，
        然后再加上一个斜杠，并加上一系列以逗号分隔的高度。单个数则表示所有行或列有相同的宽度或高度。

        例如，``-Fs2i,3i/3i`` 使得第一列为2英寸宽，第二列为3英寸宽，所有列的高度均为3英寸。
        值的数目必须是一个或者与行数/列数相匹配。对于地理地图而言，每张子图的高度由地图区域以及
        投影方式决定。有两个选择：(1) 同时指定 ``-R`` 和 ``-J`` ，并利用其计算每张子图的高度，
        所有的子图必须共享相同的研究区域和投影方式，且你必须指定一个0高度；（2）不同尝试并
        修改子图的高度以得到最佳的绘图布局。

可选选项
~~~~~~~~

``-A<autolabel>``
    为每个子图指定自动的标签。 ``<autolabel>`` 可以是一个数字或字母，默认为 ``a``\ 。

    该选项设置了左上角第一张子图的标签，并按照顺序自动设置其他子图的标签。也可以在数字或字母的一侧
    或两侧加上括号（需要注意，UNIX下可能需要对括号进行转义）。

